<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arthik - Personal Finance Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="favicon.ico"/>
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <h1>arthik</h1>
            <p>Personal Finance Dashboard</p>
            <form id="loginForm">
                <div class="input-field">
                    <input type="password" id="password" placeholder="Enter Password" required>
                    <span class="material-icons">lock</span>
                </div>
                <div id="readonlyPassword" style="display: none; text-align: center; margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.1); border-radius: 8px; font-size: 14px;">
                    <strong>Password:</strong> <span id="passwordDisplay" style="font-family: monospace; font-size: 16px; letter-spacing: 2px;"></span>
                </div>
                <button type="submit" class="btn-primary">Login</button>
                <div id="loginError" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <h1>arthik</h1>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="dashboard">DASHBOARD</button>
            <button class="tab-btn" data-tab="ledger">LEDGER</button>
            <button class="tab-btn" data-tab="account">ACCOUNT</button>
            <button class="tab-btn" data-tab="setting">SETTING</button>
        </nav>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <!-- Net Worth Section - Two Column Layout -->
            <div class="net-worth-container">
                <div class="card net-worth-card">
                    <h2>Net Worth</h2>
                    <div class="net-worth-display">
                        <div class="net-worth-main">
                            <span class="currency">₹</span>
                            <span id="netWorthValue" class="amount-large">0.00</span>
                        </div>
                        <div class="net-worth-breakdown">
                            <div class="breakdown-item assets">
                                <span class="breakdown-label">Total Assets</span>
                                <span class="breakdown-value">₹<span id="totalAssets">0.00</span></span>
                            </div>
                            <div class="breakdown-divider"></div>
                            <div class="breakdown-item liabilities">
                                <span class="breakdown-label">Total Liabilities</span>
                                <span class="breakdown-value">₹<span id="totalLiabilities">0.00</span></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card net-worth-chart-card">
                    <h2>Net Worth Trend</h2>
                    <canvas id="netWorthChart"></canvas>
                </div>
            </div>

            <!-- Budget vs Expenses Chart -->
            <div class="card">
                <h2>Budget vs Expenses</h2>
                <div class="budget-summary">
                    <div class="summary-item">
                        <span class="label">Total Spent</span>
                        <span class="value spent">₹<span id="totalSpent">0</span></span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Total Budget</span>
                        <span class="value budget">₹<span id="totalBudget">0</span></span>
                    </div>
                    <div class="summary-item">
                        <span class="label">Usage</span>
                        <span class="value percentage"><span id="budgetPercentage">0</span>%</span>
                    </div>
                </div>
                <canvas id="budgetChart"></canvas>
            </div>

            <!-- All Accounts Pills -->
            <div class="card">
                <h2>All Accounts</h2>
                <div id="accountPills" class="account-pills"></div>
            </div>

            <!-- Investment Portfolio -->
            <div class="card">
                <h2>Investment Portfolio</h2>
                <canvas id="portfolioChart"></canvas>
                <div id="portfolioLegend" class="chart-legend"></div>
            </div>

            <!-- Upcoming Bills -->
            <div class="card">
                <h2>Upcoming Bills (Next 30 Days)</h2>
                <div class="table-container">
                    <table id="billsTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Due Date</th>
                                <th>Amount</th>
                                <th>Days Left</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Ledger Tab -->
        <div id="ledger" class="tab-content">
            <!-- Add Transaction Form (Top) -->
            <div id="addTransactionForm" class="transaction-card add-form" style="display: none;">
                <div class="transaction-grid">
                    <input type="date" id="tranDate" required>
                    <input type="time" id="tranTime" required>
                    <select id="fromAccount" required>
                        <option value="">From</option>
                    </select>
                    <select id="toAccount" required>
                        <option value="">To</option>
                    </select>
                    <input type="text" id="description" placeholder="Description" maxlength="50" required>
                    <input type="number" id="amount" placeholder="Amount" step="0.01" required>
                    <div class="action-buttons">
                        <button class="btn-icon btn-save" data-action="save-transaction" title="Save">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="btn-icon btn-cancel" data-action="cancel-transaction" title="Cancel">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Transaction List -->
            <div id="transactionList" class="transaction-list"></div>
            
            <!-- Pagination -->
            <div class="pagination">
                <button id="prevPage" class="btn-secondary" data-action="prev-page">
                    <span class="material-icons">chevron_left</span> Previous
                </button>
                <span id="pageInfo">Page 1</span>
                <button id="nextPage" class="btn-secondary" data-action="next-page">
                    Next <span class="material-icons">chevron_right</span>
                </button>
            </div>

            <!-- Floating Add Button -->
            <button class="fab" data-action="show-add-transaction">
                <span class="material-icons">add</span>
            </button>
        </div>

        <!-- Account Tab -->
        <div id="account" class="tab-content">
            <!-- Add Account Form (Top) -->
            <div id="addAccountForm" class="account-card add-form" style="display: none;">
                <div class="account-grid">
                    <input type="text" id="accountName" placeholder="Account Name" required>
                    <select id="accountType" required data-change="toggle-account-fields">
                        <option value="">Type</option>
                        <option value="ASSET">Asset</option>
                        <option value="LIABILITIES">Liabilities</option>
                        <option value="INCOME">Income</option>
                        <option value="EXPENSE">Expense</option>
                    </select>
                    <input type="number" id="accountAmount" placeholder="Amount" step="0.01" required>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="iinw" value="Yes">
                            <span>In Net Worth</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="iinw" value="No" checked>
                            <span>Not in Net Worth</span>
                        </label>
                    </div>
                    <input type="number" id="accountBudget" placeholder="Budget (for expenses)" step="0.01" style="display: none;">
                    <input type="date" id="accountDueDate" placeholder="Due Date" style="display: none;">
                    <div class="action-buttons">
                        <button class="btn-icon btn-save" data-action="save-account" title="Save">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="btn-icon btn-cancel" data-action="cancel-account" title="Cancel">
                            <span class="material-icons">close</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Account List -->
            <div id="accountList" class="account-list"></div>

            <!-- Floating Add Button -->
            <button class="fab" data-action="show-add-account">
                <span class="material-icons">add</span>
            </button>
        </div>

        <!-- Setting Tab -->
        <div id="setting" class="tab-content">
            <div class="card">
                <h2>Settings</h2>
                
                <div class="setting-item">
                    <span>Dark Mode</span>
                    <label class="toggle">
                        <input type="checkbox" id="darkModeToggle" data-change="toggle-dark-mode">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <span>Hide Amounts</span>
                    <label class="toggle">
                        <input type="checkbox" id="hideAmountToggle" data-change="toggle-hide-amount">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="setting-item">
                    <h3>Theme Color</h3>
                    <div class="color-picker">
                        <button class="color-option purple" data-theme="purple" title="Purple">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="color-option blue" data-theme="blue" title="Blue">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="color-option green" data-theme="green" title="Green">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="color-option orange" data-theme="orange" title="Orange">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="color-option pink" data-theme="pink" title="Pink">
                            <span class="material-icons">check</span>
                        </button>
                        <button class="color-option teal" data-theme="teal" title="Teal">
                            <span class="material-icons">check</span>
                        </button>
                    </div>
                </div>

                <div class="setting-item">
                    <h3>Change Password</h3>
                    <div class="password-form">
                        <input type="password" id="newPassword" placeholder="New Password (min 8 characters)">
                        <button class="btn-primary" data-action="change-password">Update Password</button>
                    </div>
                </div>

                <div class="setting-item" style="border-bottom: none;">
                    <h3>Logout</h3>
                    <button class="btn-danger" data-action="logout">
                        <span class="material-icons">logout</span>
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>